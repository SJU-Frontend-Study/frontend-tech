---
title: í´ë¡œì €
---

## ğŸ‘€Â ì‹¤í–‰ ê²°ê³¼ëŠ”?

```jsx
const outerFunction = () => {
  const a = 10;
  return function (b) {
    console.log(a + b);
  };
};

const getValue = outerFunction();
getValue(20);
```

ë‹¤ìŒ í•¨ìˆ˜ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ”, closerì˜ ê°œë…ì„ ì•Œì•„ì•¼í•©ë‹ˆë‹¤.

# ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ ê³¼ì •

ìš°ì„  í´ë¡œì € ê°œë…ì„ ì•Œê¸° ìœ„í•´ì„œëŠ”, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ ê³¼ì •ê³¼ ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸, ìŠ¤ì½”í”„ì™€ ê°™ì€ ê°œë…ì„ ì•Œì•„ì•¼í•©ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œëŠ” ë‹¤ìŒ ì„¸ ë‹¨ê³„ë¥¼ ê±°ì³ ì‹¤í–‰ë©ë‹ˆë‹¤.

### 1ï¸âƒ£Â íŒŒì‹±

ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì—, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ë¨¼ì € íŒŒì‹± ê³¼ì •ì„ ê±°ì¹©ë‹ˆë‹¤.

íŒŒì‹±ì€ ì½”ë“œë¥¼ ì˜ë¯¸ ìˆëŠ” ì¡°ê°(í† í°)ìœ¼ë¡œ ë‚˜ëˆ„ê³ , í† í¬ë‚˜ì´ì§•ì´ ëë‚˜ë©´, íŒŒì„œ(parser)ëŠ” ì´ í† í°ë“¤ì˜ ëª©ë¡ì„ ë°›ì•„ ë¬¸ë²• ê·œì¹™ì— ë”°ë¼ ì½”ë“œì˜ êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” íŠ¸ë¦¬ í˜•íƒœë¡œ ë§Œë“­ë‹ˆë‹¤.
ì´ë¥¼ ì¶”ìƒ êµ¬ë¬¸ íŠ¸ë¦¬ë¼ê³  í•©ë‹ˆë‹¤.

ì½”ë“œë¡œ ëŒ€ëµ ë³´ê¸°

```js
{
  "type": "Program",
  "body": [
    {
      "type": "VariableDeclaration",
      "declarations": [//declarations ì„ ì–¸ì— í¬í•¨ëœ ë³€ìˆ˜ ëª©ë¡ì„ ë‹´ëŠ” ìì‹ ë°°ì—´
        {
          "type": "VariableDeclarator",
          "id": {
            "type": "Identifier",
            "name": "sum"
          },
          "init": { //ì´ˆê¸°ê°’
            "type": "Literal",
            "value": 10,
            "raw": "10"
          }
        }
      ],
      "kind": "let" //let í‚¤ì›Œë“œ ì‚¬ìš©
    }
  ],
  "sourceType": "module"
```

íŒŒì‹± ê³¼ì •ì—ëŠ” ì†ŒìŠ¤ì½”ë“œ ë¶„ì„ê³¼, AST(ì¶”ìƒ êµ¬ë¬¸íŠ¸ë¦¬) ìƒì„±ì´ ìˆìŠµë‹ˆë‹¤.

- ì†ŒìŠ¤ ì½”ë“œ ë¶„ì„: ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ V8 ì—”ì§„ì— ì˜í•´ ì²˜ìŒìœ¼ë¡œ ë¡œë“œë˜ë©´, ì—”ì§„ì€ ì´ ì½”ë“œë¥¼Â íŒŒì‹±í•©ë‹ˆë‹¤.
- AST ìƒì„±: ASTëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì˜ êµ¬ì¡°ë¥¼ íŠ¸ë¦¬ í˜•íƒœë¡œ ë‚˜íƒ€ë‚´ë©°, ì½”ë“œì˜ ë¬¸ë²•ì  êµ¬ì¡°ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ V8 ì—”ì§„ì€ ì½”ë“œê°€ ë¬´ì—‡ì„ í•˜ë ¤ëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2ï¸âƒ£Â ì»´íŒŒì¼

ì»´íŒŒì¼ ê³¼ì •ì€ íŒŒì‹±ê³¼ì •ì—ì„œ ASTê°€ ìƒì„± ëœ í›„ ì´ë¥¼ ë°”ì´íŠ¸ ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •

ë°”ì´íŠ¸ ì½”ë“œ : ê³ ìˆ˜ì¤€ì˜ ì–¸ì–´(JS) â†’ ê¸°ê³„ì–´ì˜ ì¤‘ê°„ ë‹¨ê³„ì— ìœ„ì¹˜í•˜ëŠ” ì½”ë“œ

JIT(Just - In- Time) â†’ ì»´íŒŒì¼ì„ í™œìš©í•˜ì—¬ ì‹¤í–‰ ì¤‘ì— ë°”ì´íŠ¸ ì½”ë“œê°€ ë„¤ì´í‹°ë¸Œ ì½”ë“œ(ê¸°ê³„ì–´)ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

### 3ï¸âƒ£Â ì‹¤í–‰(Execution)

ì»´íŒŒì¼ì´ ì™„ë£Œëœ ë°”ì´íŠ¸ ì½”ë“œëŠ” ì‹¤í–‰ ë‹¨ê³„ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

ì‹¤í–‰ì´ ì‹œì‘ë˜ë©´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë˜ë©°, **ë³€ìˆ˜ í• ë‹¹, í•¨ìˆ˜ í˜¸ì¶œ, ì—°ì‚° ìˆ˜í–‰** ë“±ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ í•˜ë‚˜ì˜ ì½œìŠ¤íƒì„ í™œìš©í•˜ì—¬ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ìƒˆë¡œìš´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìŠ¤íƒì— ì¶”ê°€ë˜ê³ , ìˆ˜í–‰ì´ ì™„ë£Œë˜ë©´ ì œê±°ë©ë‹ˆë‹¤.

```js
function first() {
  second();
  console.log('í•¨ìˆ˜1');
}

function second() {
  third();
  console.log('í•¨ìˆ˜2');
}

function third() {
  console.log('í•¨ìˆ˜3');
}

first();
```

ë‹¤ìŒ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ì–´ë–»ê²Œ ë ê¹Œìš”?
ì •ë‹µ: ì‹¤í–‰ ê²°ê³¼ëŠ”? í•¨ìˆ˜3 â†’ í•¨ìˆ˜2 â†’ í•¨ìˆ˜1

ì½”ë“œê°€ ì‹œì‘ë  ë•Œ ìƒì„±ë˜ê³  ì „ì—­ ê³µê°„ì˜ ì •ë³´ê°€ ì €ì¥ë˜ëŠ” ì»¨í…ìŠ¤íŠ¸ëŠ” â†’ ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ìƒì„±ë˜ëŠ” ì»¨í…ìŠ¤íŠ¸ëŠ” â†’ í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

## ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ë‹¨ê³„

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ë©°, í¬ê²Œ ìƒì„±, ì‹¤í–‰ì˜ ë‘ê°€ì§€ ë‹¨ê³„ë¥¼ ê±°ì¹©ë‹ˆë‹¤.

### 1. ìƒì„± ë‹¨ê³„

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë˜ê³ , ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì‹¤í–‰í•  ì½”ë“œì˜ í™˜ê²½ì„ ì„¤ì •í•©ë‹ˆë‹¤.

- ì´ë•Œ ì „ì—­ ì½”ë“œ, í•¨ìˆ˜ ì½”ë“œì˜ ì—¬ë¶€ê°€ íŒë‹¨ë©ë‹ˆë‹¤.

- var í‚¤ì›Œë“œ: í˜¸ì´ìŠ¤íŒ…ë˜ì–´ ìŠ¤ì½”í”„ì˜ ìµœìƒë‹¨ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ì ¸, undefinedë¡œ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.
- let, const í‚¤ì›Œë“œ â†’ ì´ˆê¸°í™” X(TDZ), ë³€ìˆ˜ ì´ë¦„ë§Œ ë“±ë¡

- í•¨ìˆ˜ ì„ ì–¸ë¬¸ â†’ í˜¸ì´ìŠ¤íŒ… ë° ì´ˆê¸°í™”

### 2. ì‹¤í–‰ ë‹¨ê³„

ì½”ë“œë¥¼ ìœ„ì—ì„œ ì•„ë˜ë¡œ í•œ ì¤„ì”© ì‹¤í–‰í•˜ë©°Â **ê°’ì„ í• ë‹¹í•˜ê³ , ì—°ì‚°ì´ ìˆ˜í–‰ë˜ê³ , í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.**

```js
function sayHello() {
  let text = 'Hello, world!';
  console.log(text);
}

sayHello();
```

1. sayHello í˜¸ì¶œ
2. ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ë“±ë¡
3. text ë³€ìˆ˜ ì´ë¦„ ë“±ë¡
4. í• ë‹¹ â†’ Hello world ë³€ìˆ˜ì— í• ë‹¹
5. console.log ì‹¤í–‰ â†’ Hello world ì¶œë ¥
6. ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œìŠ¤íƒì—ì„œ ì œê±°

**ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ í™˜ê²½**
ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ë³€ìˆ˜í™˜ê²½ê³¼, ë ‰ì‹œì»¬ í™˜ê²½ì„ ê°€ì§‘ë‹ˆë‹¤.

ë³€ìˆ˜ í™˜ê²½ì€ ë ‰ì‹œì»¬ í™˜ê²½ê³¼ êµ¬ì¡°ê°€ ë™ì¼í•˜ì§€ë§Œ, ë‹¨ìˆœíˆ ë³€ìˆ˜ì˜ ê°’ì´ ë³€ê²½ë˜ëŠ” ë¶€ë¶„ë§Œì„ ê´€ë¦¬í•©ë‹ˆë‹¤. â†’ ex) í˜¸ì´ìŠ¤íŒ… ê´€ë¦¬!!!

ë ‰ì‹œì»¬ í™˜ê²½: ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ìŠ¤ì½”í”„ì™€ ìŠ¤ì½”í”„ ì²´ì¸ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.!!

### ë ‰ì‹œì»¬ í™˜ê²½

í™˜ê²½ ë ˆì½”ë“œ: ë³€ìˆ˜, í•¨ìˆ˜, ë§¤ê°œë³€ìˆ˜ ì €ì¥

ì™¸ë¶€ ë ‰ì‹œì»¬ í™˜ê²½: í˜„ì¬ ì‹¤í–‰ì»¨íŠ¸ ë°”ê¹¥ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„ ì°¸ì¡°í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì°¾ìŠµë‹ˆë‹¤.

```js
function outer() {
	let outerVar = "ë°”ê¹¥ ë³€ìˆ˜";

	funtion inner(){
		let innerVar = "ì•ˆìª½ ë³€ìˆ˜";
		console.log(innerVar);//"ì•ˆìª½ ë³€ìˆ˜"
		console.log(outerVar);//"ë°”ê¹¥ ë³€ìˆ˜"
	}
	inner();
}

outer();
```

## í´ë¡œì €

outerí•¨ìˆ˜ì˜ ì‹¤í–‰ ê²°ê³¼ëŠ”?

```js
function outer(){
	let count = 0;

	return funtion(){
		count++;
		console.log(count);
	};
}

const counter = outer();
counter();//1
counter();//2
```

ë‹¤ìŒì—ì„œ 1, 2ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?

í´ë¡œì €ì˜ ê°œë… ë•Œë¬¸ì¸ë°ìš”,
ì•ì„œ ì‚´í´ ë³´ì•˜ë˜ ë‚´ìš©ì²˜ëŸ¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ ê³¼ì •ì€ íŒŒì‹± â†’ ì»´íŒŒì¼ â†’ ì‹¤í–‰ì˜ íë¦„ì„ ë”°ë¼ê°€ë©°,
ê·¸ ì•ˆì—ì„œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸, ë ‰ì‹œì»¬ í™˜ê²½, ìŠ¤ì½”í”„ ì²´ì¸ì´ í•¨ê»˜ ë™ì‘í•´ ë³€ìˆ˜ì™€ í•¨ìˆ˜ì˜ ìŠ¤ì½”í”„ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

ì´ë•Œ ì¤‘ìš”í•œ ê²ƒì€

- ë³€ìˆ˜ëŠ” ì–´ë–¤ í™˜ê²½(Variable/Lexical Environment)ì— ì €ì¥ë˜ëŠëƒ
- í•¨ìˆ˜ëŠ” ìì‹ ì´ â€œì„ ì–¸ëœ ìœ„ì¹˜â€ì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„ ê¸°ì–µí•œë‹¤ëŠ” ì 
  ì…ë‹ˆë‹¤.

ì´ êµ¬ì¡° ë•ë¶„ì— í•¨ìˆ˜ëŠ” ìì‹ ì´ ì„ ì–¸ë  ë‹¹ì‹œì˜ ì™¸ë¶€ ë³€ìˆ˜ë“¤ì„ ê¸°ì–µí•˜ê³ ,
í•¨ìˆ˜ê°€ ì¢…ë£Œëœ ì´í›„ì—ë„ í•´ë‹¹ í™˜ê²½ì„ ìœ ì§€í•œ ì±„ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ë°”ë¡œ ì´ ë™ì‘ ì›ë¦¬ê°€ **í´ë¡œì €(Closure)ì˜ ê·¼ë³¸ì ì¸ ì›ë¦¬**ì…ë‹ˆë‹¤.

ì¦‰, í´ë¡œì €ë€ â€œí•¨ìˆ˜ + ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ ë ‰ì‹œì»¬ í™˜ê²½â€ì´ í•¨ê»˜ ë¬¶ì—¬ ë™ì‘í•˜ëŠ” êµ¬ì¡°ë¥¼ ë§í•©ë‹ˆë‹¤.

outer() í•¨ìˆ˜ëŠ” ì´ë¯¸ ì‹¤í–‰ì„ ë§ˆì³¤ì§€ë§Œ,
outer() ë‚´ë¶€ì—ì„œ ìƒì„±ëœ ìµëª… í•¨ìˆ˜ëŠ” ìì‹ ì´ ì„ ì–¸ë  ë‹¹ì‹œì˜ ë ‰ì‹œì»¬ í™˜ê²½ì„
ë‚´ë¶€ ìŠ¬ë¡¯([[Environment]])ì— ì €ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ ë ‰ì‹œì»¬ í™˜ê²½ ì•ˆì—ëŠ”

`count = 0`

ì´ë¼ëŠ” ë³€ìˆ˜ê°€ ì¡´ì¬í•˜ê³ ,`counter()`ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë‹¤ìŒ ìˆœì„œë¡œ ë™ì‘í•©ë‹ˆë‹¤.

ìµëª… í•¨ìˆ˜ê°€ ìì‹ ì´ ê¸°ì–µí•˜ê³  ìˆëŠ” ë ‰ì‹œì»¬ í™˜ê²½ì„ í™•ì¸í•œë‹¤.

ê·¸ ì•ˆì˜ count ë³€ìˆ˜ë¥¼ ì°¾ì•„ 1 ì¦ê°€ì‹œí‚¤ê³ 

ì¦ê°€ëœ ê°’ì„ ì¶œë ¥í•œë‹¤.

ì¦‰,

ì²« ë²ˆì§¸ í˜¸ì¶œ â†’ countê°€ 0 â†’ 1ë¡œ ì¦ê°€ â†’ ì¶œë ¥

ë‘ ë²ˆì§¸ í˜¸ì¶œ â†’ ê°™ì€ count(ì´ë¯¸ 1ì¸ ê°’)ë¥¼ ë‹¤ì‹œ ì¦ê°€ â†’ 2ë¡œ ì¦ê°€ â†’ ì¶œë ¥

ì´ë ‡ê²Œ ê°™ì€ í™˜ê²½ì„ ê³µìœ í•˜ë©° ë³€í™”ê°€ ëˆ„ì ë˜ê¸° ë•Œë¬¸ì—
1, 2ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```jsx
const outerFunction = () => {
  const a = 10;
  return function (b) {
    console.log(a + b);
  };
};

const getValue = outerFunction();
getValue(20);
```

ë”°ë¼ì„œ, ì²˜ìŒ ë³´ì•˜ë˜ ì´ í•¨ìˆ˜ì˜ ê²°ê³¼ë„, 30ì´ ì¶œë ¥ë  ìˆ˜ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.
